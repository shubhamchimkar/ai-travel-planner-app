const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Sambhaji Nagar, Maharashtra, India, for 6 days and 5 night for Couple with a Luxury with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 6 days and 5 night with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, I will generate a luxurious 6-day, 5-night travel plan for a couple visiting Sambhaji Nagar (formerly Aurangabad), Maharashtra, India. I will include flight details (using dummy data as real-time prices fluctuate), hotel options with details and images, and a daily itinerary with nearby attractions.\n\n**Important Considerations:**\n\n*   **Pricing:** Flight and hotel prices are estimates. Actual costs will vary based on the time of booking, availability, and specific choices.  I recommend using the booking URLs provided to check current pricing and availability.\n*   **Customization:** This is a template. Feel free to adjust it based on your interests and budget.  Luxury can mean different things to different people.\n*   **Transportation:** This plan assumes you'll be using a private car or hiring a driver for transportation within Sambhaji Nagar.  This adds to the luxury experience.  You can also use ride-sharing services like Ola or Uber, but a private car will be more convenient for a longer trip and sightseeing.\n*   **Booking:** Book flights, hotels, and tours in advance, especially if you're traveling during peak season.\n*   **Flexibility:**  This is a suggested itinerary. Be flexible and adjust based on your preferences and how you feel each day.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Sambhaji Nagar (formerly Aurangabad), Maharashtra, India\",\n    \"duration\": \"6 Days / 5 Nights\",\n    \"travelers\": \"Couple\",\n    \"theme\": \"Luxury Travel\"\n  },\n  \"flights\": {\n    \"arrival\": {\n      \"airline\": \"IndiGo\",\n      \"flightNumber\": \"6E-203\",\n      \"origin\": \"Mumbai (BOM)\",\n      \"destination\": \"Sambhaji Nagar (IXU)\",\n      \"departureTime\": \"07:00\",\n      \"arrivalTime\": \"08:00\",\n      \"estimatedPrice\": 4500,\n      \"bookingUrl\": \"https://www.goindigo.in/\",\n      \"notes\": \"Check for best deals and promotions. Prices are subject to change.\"\n    },\n    \"departure\": {\n      \"airline\": \"Air India\",\n      \"flightNumber\": \"AI-604\",\n      \"origin\": \"Sambhaji Nagar (IXU)\",\n      \"destination\": \"Mumbai (BOM)\",\n      \"departureTime\": \"20:00\",\n      \"arrivalTime\": \"21:00\",\n      \"estimatedPrice\": 5000,\n      \"bookingUrl\": \"https://www.airindia.in/\",\n      \"notes\": \"Check for best deals and promotions. Prices are subject to change.\"\n    }\n  },\n  \"hotels\": [\n    {\n      \"hotelName\": \"ITC Rama International, Aurangabad\",\n      \"address\": \"R-3, Chikalthana, Airport Road, Sambhaji Nagar, Maharashtra 431006\",\n      \"pricePerNight\": 10000,\n      \"imageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/60/4f/16/itc-rama-international.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 19.8637,\n        \"longitude\": 75.3435\n      },\n      \"rating\": 4.5,\n      \"description\": \"A luxury hotel known for its excellent service, elegant rooms, and multiple dining options. Offers a spa, swimming pool, and well-equipped fitness center.\",\n      \"amenities\": [\"Swimming pool\", \"Spa\", \"Fitness center\", \"Multiple restaurants\", \"Concierge service\"]\n    },\n    {\n      \"hotelName\": \"Vivanta Aurangabad\",\n      \"address\": \"CIDCO, Raja Bazar, Sambhaji Nagar, Maharashtra 431003\",\n      \"pricePerNight\": 8000,\n      \"imageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/f9/f8/f0/exterior.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 19.8789,\n        \"longitude\": 75.3321\n      },\n      \"rating\": 4.3,\n      \"description\": \"A stylish hotel with modern amenities, comfortable rooms, and a range of dining options. Features a swimming pool, spa, and banquet facilities.\",\n      \"amenities\": [\"Swimming pool\", \"Spa\", \"Banquet facilities\", \"Multiple restaurants\", \"Business center\"]\n    },\n     {\n      \"hotelName\": \"The Fern Residency, Sambhaji Nagar\",\n      \"address\": \"Plot No. P-1, Jalna Road, Opp. Government Engineering College, Sambhaji Nagar, Maharashtra 431003\",\n      \"pricePerNight\": 6000,\n      \"imageUrl\": \"https://ak-d.tripcdn.com/images/022741200088p5258C164_R_550_412_R5.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 19.8776,\n        \"longitude\": 75.3408\n      },\n      \"rating\": 4.0,\n      \"description\": \"An eco-friendly hotel offering comfortable accommodation, a multi-cuisine restaurant, and a focus on sustainability. Features a fitness center and banquet facilities.\",\n      \"amenities\": [\"Multi-cuisine restaurant\", \"Fitness center\", \"Banquet facilities\", \"Eco-friendly practices\"]\n    }\n  ],\n  \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"theme\": \"Arrival and Ajanta Caves Exploration\",\n      \"schedule\": [\n        {\n          \"time\": \"08:00\",\n          \"activity\": \"Arrival at Sambhaji Nagar Airport (IXU) and transfer to Hotel.\",\n          \"details\": \"Check in, freshen up, and have breakfast.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"09:30\",\n          \"activity\": \"Drive to Ajanta Caves.\",\n          \"details\": \"Enjoy the scenic drive. It takes around 2-3 hours.\",\n          \"duration\": \"2.5 hours\"\n        },\n        {\n          \"time\": \"12:00\",\n          \"activity\": \"Explore Ajanta Caves.\",\n          \"details\": \"Explore the UNESCO World Heritage site. Hire a guide for a deeper understanding of the art and history.\",\n          \"duration\": \"3 hours\",\n          \"placeName\": \"Ajanta Caves\",\n          \"placeDetails\": \"Ancient rock-cut cave temples with intricate paintings and sculptures depicting Buddhist religious art.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/2939_20190109163758.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 20.5500,\n            \"longitude\": 75.7000\n          },\n          \"ticketPricing\": 600,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"15:00\",\n          \"activity\": \"Lunch at a local restaurant near Ajanta.\",\n          \"details\": \"Savor authentic Maharashtrian cuisine.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"16:00\",\n          \"activity\": \"Drive back to Sambhaji Nagar.\",\n          \"duration\": \"2.5 hours\"\n        },\n        {\n          \"time\": \"18:30\",\n          \"activity\": \"Relax and unwind at the hotel.\",\n          \"duration\": \"2 hours\"\n        },\n        {\n          \"time\": \"20:30\",\n          \"activity\": \"Dinner at hotel's fine-dining restaurant.\",\n          \"details\": \"Enjoy a luxurious dining experience.\",\n          \"duration\": \"1.5 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"theme\": \"Ellora Caves and Daulatabad Fort\",\n      \"schedule\": [\n        {\n          \"time\": \"09:00\",\n          \"activity\": \"Breakfast at the hotel.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"10:00\",\n          \"activity\": \"Drive to Ellora Caves.\",\n          \"details\": \"The drive takes approximately 45 minutes.\",\n          \"duration\": \"45 minutes\"\n        },\n        {\n          \"time\": \"10:45\",\n          \"activity\": \"Explore Ellora Caves.\",\n          \"details\": \"Visit the impressive Kailasa Temple (Cave 16) and other cave temples representing Hinduism, Buddhism, and Jainism.\",\n          \"duration\": \"3 hours\",\n          \"placeName\": \"Ellora Caves\",\n          \"placeDetails\": \"A UNESCO World Heritage site featuring rock-cut cave temples representing three religions: Hinduism, Buddhism, and Jainism.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/shutterstock_115793199_20190110165657.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 20.0267,\n            \"longitude\": 75.1814\n          },\n          \"ticketPricing\": 600,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"13:45\",\n          \"activity\": \"Lunch at a restaurant near Ellora.\",\n          \"details\": \"Enjoy a meal with a view.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"14:45\",\n          \"activity\": \"Visit Daulatabad Fort.\",\n          \"details\": \"Explore the historic fort, known for its strategic location and impressive architecture.\",\n          \"duration\": \"2.5 hours\",\n          \"placeName\": \"Daulatabad Fort\",\n          \"placeDetails\": \"A historic fort known for its strategic location, impressive defense mechanisms, and the Chand Minar.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/1896_20190110170458.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 19.9367,\n            \"longitude\": 75.2403\n          },\n          \"ticketPricing\": 30,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"17:15\",\n          \"activity\": \"Drive back to Sambhaji Nagar.\",\n          \"duration\": \"45 minutes\"\n        },\n        {\n          \"time\": \"18:00\",\n          \"activity\": \"Relax at the hotel/Spa.\",\n          \"duration\": \"2.5 hours\"\n        },\n        {\n          \"time\": \"20:30\",\n          \"activity\": \"Dinner at a fine-dining restaurant in Sambhaji Nagar.\",\n          \"details\": \"Try a local restaurant for a change of pace.\",\n          \"duration\": \"1.5 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"theme\": \"Local Sightseeing and Shopping\",\n      \"schedule\": [\n        {\n          \"time\": \"09:00\",\n          \"activity\": \"Breakfast at the hotel.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"10:00\",\n          \"activity\": \"Visit Bibi Ka Maqbara.\",\n          \"details\": \"Explore the 'Taj of the Deccan,' a beautiful mausoleum built by Mughal Emperor Aurangzeb's son.\",\n          \"duration\": \"2 hours\",\n          \"placeName\": \"Bibi Ka Maqbara\",\n          \"placeDetails\": \"A mausoleum resembling the Taj Mahal, built by Aurangzeb's son in memory of his mother.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/Bibi-Ka-Maqbara_20170809162531.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 19.8906,\n            \"longitude\": 75.3074\n          },\n          \"ticketPricing\": 30,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"12:00\",\n          \"activity\": \"Visit Panchakki.\",\n          \"details\": \"Explore the 17th-century water mill complex with its scenic gardens.\",\n          \"duration\": \"1.5 hours\",\n          \"placeName\": \"Panchakki\",\n          \"placeDetails\": \"A 17th-century water mill complex with beautiful gardens, a mosque, and a mausoleum of a Sufi saint.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/panchakki_20170810122923.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 19.8912,\n            \"longitude\": 75.3021\n          },\n          \"ticketPricing\": 20,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"13:30\",\n          \"activity\": \"Lunch at a local restaurant.\",\n          \"details\": \"Try a traditional thali.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"15:00\",\n          \"activity\": \"Shopping at Gul Mandi.\",\n          \"details\": \"Browse the local markets for souvenirs, textiles, and handicrafts.\",\n          \"duration\": \"3 hours\",\n          \"placeName\": \"Gul Mandi\",\n          \"placeDetails\": \"A traditional market known for its variety of textiles, clothing, and local products.\",\n          \"placeImageUrl\": \"https://content3.jdmagicbox.com/comp/aurangabad-maharashtra/f7/9999xmz43.mz43.110304114257.h2f7/catalogue/gul-mandi-city-aurangabad-aurangabad-maharashtra-clothing-shops-xnpw2.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 19.8803,\n            \"longitude\": 75.3201\n          },\n          \"ticketPricing\": 0,\n          \"bestTimeToVisit\": \"Anytime during the day\"\n        },\n        {\n          \"time\": \"18:00\",\n          \"activity\": \"Relax at the hotel.\",\n          \"duration\": \"2.5 hours\"\n        },\n        {\n          \"time\": \"20:30\",\n          \"activity\": \"Dinner at a restaurant of your choice.\",\n          \"details\": \"Enjoy a romantic dinner.\",\n          \"duration\": \"1.5 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"theme\": \"Ghrishneshwar Temple and Aurangabad Caves\",\n      \"schedule\": [\n        {\n          \"time\": \"08:00\",\n          \"activity\": \"Breakfast at the hotel.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"09:00\",\n          \"activity\": \"Drive to Grishneshwar Temple.\",\n          \"details\": \"One of the 12 Jyotirlingas.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"10:00\",\n          \"activity\": \"Visit Grishneshwar Temple.\",\n          \"details\": \"A revered Hindu temple dedicated to Lord Shiva. (Dress modestly).\",\n          \"duration\": \"2 hours\",\n          \"placeName\": \"Ghrishneshwar Temple\",\n          \"placeDetails\": \"An ancient and significant Hindu temple dedicated to Lord Shiva, one of the twelve Jyotirlingas.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/2843_20190109163513.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 20.0262,\n            \"longitude\": 75.1794\n          },\n          \"ticketPricing\": 0,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"12:00\",\n          \"activity\": \"Drive back to Sambhaji Nagar.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"13:00\",\n          \"activity\": \"Lunch\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"14:30\",\n          \"activity\": \"Visit Aurangabad Caves\",\n          \"details\": \"Explore these ancient Buddhist caves near the city. Can be skipped if you are tired of caves.\",\n          \"duration\": \"2 hours\",\n          \"placeName\": \"Aurangabad Caves\",\n          \"placeDetails\": \"Ancient Buddhist rock-cut caves featuring sculptures and carvings, located near the city.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/Aurangabad_Caves_20170810135648.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 19.8858,\n            \"longitude\": 75.2716\n          },\n          \"ticketPricing\": 25,\n          \"bestTimeToVisit\": \"October to March\"\n        },\n        {\n          \"time\": \"16:30\",\n          \"activity\": \"Free time\",\n          \"details\": \"Relax, go for shopping or enjoy hotel activities\",\n          \"duration\": \"4 hours\"\n        },\n        {\n          \"time\": \"20:30\",\n          \"activity\": \"Dinner\",\n          \"duration\": \"1.5 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 5,\n      \"theme\": \"Luxury Relaxation and Local Culture\",\n      \"schedule\": [\n        {\n          \"time\": \"09:00\",\n          \"activity\": \"Leisurely breakfast at the hotel.\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"10:30\",\n          \"activity\": \"Relax at the hotel spa or pool.\",\n          \"details\": \"Enjoy a rejuvenating massage or spa treatment.\",\n          \"duration\": \"3 hours\"\n        },\n        {\n          \"time\": \"13:30\",\n          \"activity\": \"Lunch at a specialty restaurant.\",\n          \"details\": \"Explore local cuisine\",\n          \"duration\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"15:00\",\n          \"activity\": \"Visit the Historical Research Society Museum.\",\n          \"details\": \"If you are interested in history.\",\n          \"duration\": \"2 hours\",\n          \"placeName\": \"Historical Research Society Museum\",\n          \"placeDetails\": \"A museum showcasing artifacts, manuscripts, and historical documents related to the region's history.\",\n          \"placeImageUrl\": \"https://content3.jdmagicbox.com/comp/aurangabad-maharashtra/68/0499pp0499std2334068/catalogue/the-historical-research-society-museum-aurangabad-ho-aurangabad-maharashtra-museums-4y45j.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 19.8783,\n            \"longitude\": 75.3239\n          },\n          \"ticketPricing\": 50,\n          \"bestTimeToVisit\": \"Anytime during the day\"\n        },\n        {\n          \"time\": \"17:00\",\n          \"activity\": \"Evening tea/coffee at a cafe.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"18:00\",\n          \"activity\": \"Shopping for souvenirs (if desired).\",\n          \"duration\": \"2 hours\"\n        },\n        {\n          \"time\": \"20:00\",\n          \"activity\": \"Farewell dinner at a fine-dining restaurant.\",\n          \"duration\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 6,\n      \"theme\": \"Departure\",\n      \"schedule\": [\n        {\n          \"time\": \"08:00\",\n          \"activity\": \"Breakfast at the hotel.\",\n          \"duration\": \"1 hour\"\n        },\n        {\n          \"time\": \"09:00\",\n          \"activity\": \"Check out from the hotel.\",\n          \"duration\": \"30 minutes\"\n        },\n        {\n          \"time\": \"09:30\",\n          \"activity\": \"Transfer to Sambhaji Nagar Airport (IXU).\",\n          \"duration\": \"30 minutes\"\n        },\n        {\n          \"time\": \"10:00\",\n          \"activity\": \"Departure.\",\n          \"details\": \"Board your flight back home.\",\n          \"duration\": \"N/A\"\n        }\n      ]\n    }\n  ],\n  \"notes\": \"This itinerary is a suggestion and can be customized to your preferences.  Enjoy your luxurious trip to Sambhaji Nagar!\"\n}\n```\n\n**Explanation of Fields:**\n\n*   `tripDetails`:  Overall trip information.\n*   `flights`: Details of arrival and departure flights (dummy data).\n*   `hotels`: An array of potential hotel options, including name, address, price (estimated), image URL, geo-coordinates, rating, and a brief description.  The amenities listed are suggestions.\n*   `dailyItinerary`: An array of daily plans.\n    *   `day`: Day number.\n    *   `theme`:  A short description of the day's focus.\n    *   `schedule`: An array of activities for that day, including:\n        *   `time`:  Approximate time.\n        *   `activity`: What you'll be doing.\n        *   `details`: More information about the activity.\n        *   `duration`:  Estimated time for the activity.\n        *   `placeName`, `placeDetails`, `placeImageUrl`, `geoCoordinates`, `ticketPricing`, `bestTimeToVisit`:  Information about the places you'll be visiting.\n*   `notes`: Any additional information.\n\n**How to Use This Plan:**\n\n1.  **Book Flights and Hotels:** Use the provided booking URLs to check current prices and availability and make reservations.  Book well in advance, especially if you're traveling during peak season.\n2.  **Customize:**  Adjust the itinerary to match your interests.  If you're not interested in caves, for example, replace that activity with something else.\n3.  **Transportation:** Arrange for a private car and driver for the duration of your trip. Discuss the itinerary with the driver beforehand.\n4.  **Dining:**  The plan includes suggestions, but feel free to explore other restaurants based on your preferences.  Ask your hotel concierge for recommendations.\n5.  **Enjoy!**  Relax and enjoy your luxurious trip to Sambhaji Nagar.\n"},
          ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());
